username = 'damocles'
password = 'peltor'

import requests
import numpy as np



r = requests.get("https://thredds.met.no/thredds/dodsC/data/met.no/THORPEX-QC080301a/THORPEX-QC080301a_D20080301_145803QC.nc.ascii?")
print(type(r.text.splitlines()))
print(len(r.text.splitlines()))

settet = [["THORPEX-QC080301a_D20080301_145803QC.nc",
         "THORPEX-QC080301a_D20080301_144553QC.nc",
         "THORPEX-QC080301a_D20080301_144107QC.nc",
         "THORPEX-QC080301a_D20080301_143247QC.nc",
         "THORPEX-QC080301a_D20080301_141742QC.nc",
         "THORPEX-QC080301a_D20080301_135552QC.nc",
         "THORPEX-QC080301a_D20080301_132228QC.nc",
         "THORPEX-QC080301a_D20080301_124724QC.nc"],

         ["THORPEX-QC080301b_D20080301_182641QC.nc",
         "THORPEX-QC080301b_D20080301_181856QC.nc",
         "THORPEX-QC080301b_D20080301_174931QC.nc",
         "THORPEX-QC080301b_D20080301_173243QC.nc",
         "THORPEX-QC080301b_D20080301_171606QC.nc",
         "THORPEX-QC080301b_D20080301_170359QC.nc",
         "THORPEX-QC080301b_D20080301_164904QC.nc",
         "THORPEX-QC080301b_D20080301_164302QC.nc",
         "THORPEX-QC080301b_D20080301_162040QC.nc"],

         ["THORPEX-QC080303a_D20080303_132830QC.nc",
         "THORPEX-QC080303a_D20080303_131613QC.nc",
         "THORPEX-QC080303a_D20080303_130301QC.nc",
         "THORPEX-QC080303a_D20080303_125351QC.nc",
         "THORPEX-QC080303a_D20080303_124345QC.nc",
         "THORPEX-QC080303a_D20080303_123624QC.nc",
         "THORPEX-QC080303a_D20080303_123128QC.nc",
         "THORPEX-QC080303a_D20080303_122309QC.nc",
         "THORPEX-QC080303a_D20080303_121815QC.nc",
         "THORPEX-QC080303a_D20080303_121359QC.nc",
         "THORPEX-QC080303a_D20080303_120832QC.nc",
         "THORPEX-QC080303a_D20080303_115202QC.nc",
         "THORPEX-QC080303a_D20080303_114338QC.nc",
         "THORPEX-QC080303a_D20080303_113922QC.nc",
         "THORPEX-QC080303a_D20080303_113414QC.nc",
         "THORPEX-QC080303a_D20080303_112742QC.nc",
         "THORPEX-QC080303a_D20080303_111154QC.nc",
         "THORPEX-QC080303a_D20080303_110458QC.nc",
         "THORPEX-QC080303a_D20080303_104912QC.nc",
         "THORPEX-QC080303a_D20080303_102731QC.nc"],

         ["THORPEX-QC080304a_D20080304_125835QC.nc",
         "THORPEX-QC080304a_D20080304_124748QC.nc",
         "THORPEX-QC080304a_D20080304_124305QC.nc",
         "THORPEX-QC080304a_D20080304_123329QC.nc",
         "THORPEX-QC080304a_D20080304_122505QC.nc",
         "THORPEX-QC080304a_D20080304_121645QC.nc",
         "THORPEX-QC080304a_D20080304_121138QC.nc",
         "THORPEX-QC080304a_D20080304_120656QC.nc",
         "THORPEX-QC080304a_D20080304_120229QC.nc",
         "THORPEX-QC080304a_D20080304_115208QC.nc",
         "THORPEX-QC080304a_D20080304_114148QC.nc",
         "THORPEX-QC080304a_D20080304_113144QC.nc",
         "THORPEX-QC080304a_D20080304_112251QC.nc",
         "THORPEX-QC080304a_D20080304_111659QC.nc",
         "THORPEX-QC080304a_D20080304_111210QC.nc",
         "THORPEX-QC080304a_D20080304_110625QC.nc",
         "THORPEX-QC080304a_D20080304_105935QC.nc",
         "THORPEX-QC080304a_D20080304_105431QC.nc",
         "THORPEX-QC080304a_D20080304_104616QC.nc",
         "THORPEX-QC080304a_D20080304_104109QC.nc"],

         ["THORPEX-QC080306a_D20080306_150525QC.nc",
         "THORPEX-QC080306a_D20080306_150233QC.nc",
         "THORPEX-QC080306a_D20080306_145907QC.nc",
         "THORPEX-QC080306a_D20080306_145557QC.nc",
         "THORPEX-QC080306a_D20080306_145218QC.nc",
         "THORPEX-QC080306a_D20080306_144646QC.nc",
         "THORPEX-QC080306a_D20080306_142716QC.nc",
         "THORPEX-QC080306a_D20080306_140807QC.nc"]]
for mappe in settet:
	south =90
	north =-90
	east = -180
	west = 180
	for fil in mappe:
		deler=fil.split("_")
		path = "https://thredds.met.no/thredds/dodsC/data/met.no/"+deler[0]+"/"+fil+".ascii?"
		#print(path)
		r=requests.get(path)
		lista = r.text.splitlines()
		for i, line in enumerate(lista):
			if line[:3] == "lon":
				temp = (np.array((lista[i+1]).split(","),dtype=np.double))
				if max(temp) != -999. and np.max(temp) <= west:
					west = max(temp)
				if max(temp) != -999. and np.max(temp) >= east:
					east = max(temp)
			if line[:3] == "lat":
				temp = (np.array((lista[i+1]).split(","),dtype=np.double))
				if max(temp) != -999. and np.max(temp) <= south:
					south = max(temp)
				if max(temp) != -999. and np.max(temp) >= north:
					north = max(temp)
	print("\n",deler[0])
	print("  <mmd:geographic_extent>")
	print("""    <mmd:rectangle srsName="EPSG:4326">""")
	print("      <mmd:north>:",north,"</mmd:north>")
	print("      <mmd:south>:",south,"</mmd:south>")
	print("      <mmd:west>:",west,"</mmd:west>")
	print("      <mmd:east>:",east,"</mmd:east>")
	print("    </mmd:rectangle>")
	print("  </mmd:geographic_extent>")

"""
import xarray as xr

setet = [["THORPEX-QC080301a_D20080301_145803QC.nc",
         "THORPEX-QC080301a_D20080301_144553QC.nc",
         "THORPEX-QC080301a_D20080301_144107QC.nc",
         "THORPEX-QC080301a_D20080301_143247QC.nc",
         "THORPEX-QC080301a_D20080301_141742QC.nc",
         "THORPEX-QC080301a_D20080301_135552QC.nc",
         "THORPEX-QC080301a_D20080301_132228QC.nc",
         "THORPEX-QC080301a_D20080301_124724QC.nc"],

         ["THORPEX-QC080301b_D20080301_182641QC.nc"
         "THORPEX-QC080301b_D20080301_181856QC.nc"
         "THORPEX-QC080301b_D20080301_174931QC.nc"
         "THORPEX-QC080301b_D20080301_173243QC.nc"
         "THORPEX-QC080301b_D20080301_171606QC.nc"
         "THORPEX-QC080301b_D20080301_170359QC.nc"
         "THORPEX-QC080301b_D20080301_164904QC.nc"
         "THORPEX-QC080301b_D20080301_164302QC.nc"
         "THORPEX-QC080301b_D20080301_162040QC.nc"],

         ["THORPEX-QC080303a_D20080303_132830QC.nc",
         "THORPEX-QC080303a_D20080303_131613QC.nc",
         "THORPEX-QC080303a_D20080303_130301QC.nc",
         "THORPEX-QC080303a_D20080303_125351QC.nc",
         "THORPEX-QC080303a_D20080303_124345QC.nc",
         "THORPEX-QC080303a_D20080303_123624QC.nc",
         "THORPEX-QC080303a_D20080303_123128QC.nc",
         "THORPEX-QC080303a_D20080303_122309QC.nc",
         "THORPEX-QC080303a_D20080303_121815QC.nc",
         "THORPEX-QC080303a_D20080303_121359QC.nc",
         "THORPEX-QC080303a_D20080303_120832QC.nc",
         "THORPEX-QC080303a_D20080303_115202QC.nc",
         "THORPEX-QC080303a_D20080303_114338QC.nc",
         "THORPEX-QC080303a_D20080303_113922QC.nc",
         "THORPEX-QC080303a_D20080303_113414QC.nc",
         "THORPEX-QC080303a_D20080303_112742QC.nc",
         "THORPEX-QC080303a_D20080303_111154QC.nc",
         "THORPEX-QC080303a_D20080303_110458QC.nc",
         "THORPEX-QC080303a_D20080303_104912QC.nc",
         "THORPEX-QC080303a_D20080303_102731QC.nc"],

         ["THORPEX-QC080304a_D20080304_125835QC.nc",
         "THORPEX-QC080304a_D20080304_124748QC.nc",
         "THORPEX-QC080304a_D20080304_124305QC.nc",
         "THORPEX-QC080304a_D20080304_123329QC.nc",
         "THORPEX-QC080304a_D20080304_122505QC.nc",
         "THORPEX-QC080304a_D20080304_121645QC.nc",
         "THORPEX-QC080304a_D20080304_121138QC.nc",
         "THORPEX-QC080304a_D20080304_120656QC.nc",
         "THORPEX-QC080304a_D20080304_120229QC.nc",
         "THORPEX-QC080304a_D20080304_115208QC.nc",
         "THORPEX-QC080304a_D20080304_114148QC.nc",
         "THORPEX-QC080304a_D20080304_113144QC.nc",
         "THORPEX-QC080304a_D20080304_112251QC.nc",
         "THORPEX-QC080304a_D20080304_111659QC.nc",
         "THORPEX-QC080304a_D20080304_111210QC.nc",
         "THORPEX-QC080304a_D20080304_110625QC.nc",
         "THORPEX-QC080304a_D20080304_105935QC.nc",
         "THORPEX-QC080304a_D20080304_105431QC.nc",
         "THORPEX-QC080304a_D20080304_104616QC.nc",
         "THORPEX-QC080304a_D20080304_104109QC.nc"],

         ["THORPEX-QC080306a_D20080306_150525QC.nc",
         "THORPEX-QC080306a_D20080306_150233QC.nc",
         "THORPEX-QC080306a_D20080306_145907QC.nc",
         "THORPEX-QC080306a_D20080306_145557QC.nc",
         "THORPEX-QC080306a_D20080306_145218QC.nc",
         "THORPEX-QC080306a_D20080306_144646QC.nc",
         "THORPEX-QC080306a_D20080306_142716QC.nc",
         "THORPEX-QC080306a_D20080306_140807QC.nc"]]




         """